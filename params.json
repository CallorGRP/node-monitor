{"name":"Node Monitor","tagline":"Node.js application monitoring","body":"Monitor your Node.js application\r\n================================\r\n\r\n[![Build Status](https://secure.travis-ci.org/lorenwest/node-monitor.png?branch=master)](https://travis-ci.org/lorenwest/node-monitor)\r\n\r\nIntroduction\r\n------------\r\n\r\nNode-monitor is an npm module that lets you monitor your running Node.js app servers.\r\n\r\nProject Guidelines\r\n------------------\r\n\r\n* *Simple* - Get started quickly\r\n* *Powerful* - For multi-node enterprise deployment\r\n* *Lightweight* - Inactive until used, small footprint during use \r\n* *Flexible* - For custom application monitoring\r\n* *Stable* - Well tested foundation for module developers\r\n\r\n\r\nGetting Started\r\n---------------\r\n\r\nInstall monitor in your package.json, or run the following from your app server directory\r\n\r\n    $ npm install monitor\r\n\r\nThen place the following line in your application bootstrap, and restart your server\r\n\r\n    var Monitor = require('monitor').start();\r\n\r\nMonitoring your app with a REPL console\r\n---------------------------------------\r\n\r\nAd-hoc monitoring can be done from a REPL console.  \r\n\r\nStart up the REPL, and get the Monitor class.  Feel free to copy/paste these lines into your console:\r\n\r\n    $ node\r\n    > var Monitor = require('monitor');\r\n\r\nNow connect a monitor to a probe on your app server.  There are a handful of built-in probes, and you can build custom probes for your application or npm module.  \r\n\r\nFor this example, we'll monitor the *Process* probe:\r\n\r\n    > var processMonitor = new Monitor({probeClass:'Process'});\r\n    > processMonitor.connect();\r\n\r\nThe monitor is a [Backbone.js](http://backbonejs.org/) data model so it updates in real time, and you can get all fields with toJSON():\r\n\r\n    > processMonitor.get('freemem');\r\n    86368256\r\n    > processMonitor.get('freemem');\r\n    80044032\r\n    > processMonitor.toJSON();\r\n    ...\r\n\r\nAs the monitor changes, it emits change events:\r\n\r\n    > processMonitor.on('change', function() {\r\n    ... console.log(processMonitor.get('freemem'));\r\n    ... });\r\n \r\nMonitoring your app with a custom script\r\n----------------------------------------\r\n\r\nUsing Node.js as a scripting language, you can write custom monitors that do anything Node.js can do.  Here's an example that prints to the console when free memory falls below a threshold.\r\n\r\nSave this file to low-memory-warn.js, and run **node low-memory-warn**\r\n\r\n    // Low memory warning monitor\r\n    var Monitor = require('monitor');\r\n    var LOW_MEMORY_THRESHOLD = 100000000;\r\n\r\n    // Set the probe to push changes every 10 seconds\r\n    var options = {\r\n      hostName: 'localhost',\r\n      probeClass: 'Process',\r\n      initParams: {\r\n        pollInterval: 10000\r\n      }\r\n    }\r\n    var processMonitor = new Monitor(options);\r\n\r\n    // Attach the change listener\r\n    processMonitor.on('change', function() {\r\n      var freemem = processMonitor.get('freemem');\r\n      if (freemem < LOW_MEMORY_THRESHOLD) {\r\n        console.log('Low memory warning: ' + freemem);\r\n      }\r\n    });\r\n\r\n    // Now connect the monitor\r\n    processMonitor.connect(function(error) {\r\n      if (error) {\r\n        console.error('Error connecting with process probe: ', error);\r\n        process.exit(1);\r\n      }\r\n    });\r\n\r\nMonitoring your app in a browser\r\n--------------------------------\r\n\r\nThe above script runs just as well within an html ```<script>``` tag as on the server.  For example, change the ```var Monitor = require('monitor');``` line to something like this:\r\n\r\n    <script src=\"/path/to/monitor/dist/monitor-all.min.js\"></script>\r\n\r\nThe browser distribution included in node-monitor exports a single variable ```Monitor``` to the global namespace, and it can be used just like the ```Monitor``` variable in ```var Monitor = require('monitor')```.\r\n\r\nYour browser will probably have to be pointing to localhost or behind your firewall in order to connect with the app server on the configured monitor port.  See *Security Concerns* below.\r\n\r\nMonitoring your app in a dashboard\r\n---------------------------\r\n\r\nThe [monitor-dashboard](https://github.com/lorenwest/monitor-dashboard) project lets you visualize your monitors in a dashboard.\r\n\r\n    $ npm install monitor-dashboard\r\n    $ npm run monitor-dashboard\r\n\r\nThe dashboard project is outside the scope of this project.  More information is available on the project [documentation pages](http://lorenwest.github.io/monitor-dashboard).\r\n\r\nSecurity Concerns\r\n-----------------\r\n\r\nExposing the internals of your app server is a high security risk.  By default, the server listens on port 42000 and will connect with localhost clients only.\r\n\r\nIn order to monitor across machines, the default configuration must be changed to listen beyond localhost.  Before doing this, it is recommended to understand the risks and have external measures in place to prevent unauthorized access.\r\n\r\nSee notes in the ```config/external.js``` file for more information.\r\n\r\nLicense\r\n-------\r\n\r\nMay be freely distributed under the MIT license<br>\r\nSee [LICENSE](https://github.com/lorenwest/node-monitor/blob/master/LICENSE) file.<br>\r\nCopyright (c) 2010-2013 Loren West<br>\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}